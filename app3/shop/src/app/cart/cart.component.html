<main class="main">
    <h1 class="title">Grand Theft Auto VI Store</h1>
    <div class="container">
        <main>
            <img class="cover" src="../assets/Grand_Theft_Auto_VI.webp" alt>

        </main>
        <aside class="aside">
            <h3 class="aside-title">Grand Theft Auto VI</h3>
            <hr>
            <p class="description">Grand Theft Auto VI heads to the state of
                Leonida,
                home to the neon-soaked streets of Vice City and beyond in the
                biggest,
                most immersive evolution of the Grand Theft Auto series yet.
                Coming 2025
                to PlayStation 5 and Xbox Series X|S. </p>
            <div class="pricediv">
                <h4 class="price">69.99</h4>
                <h4 class="discount">{{price}}</h4>
            </div>
            <form #cartForm="ngForm" (ngSubmit)="onSubmit(cartForm)">
                <p class="amount">Remaining on stock: <span
                        class="stock">{{amount}}</span></p>
                <div class="quantity">
                    <label for="quantity">Quantity: </label>
                    <input
                        type="number"
                        id="quantity"
                        class="input-quantity"
                        name="input_quantity"
                        [(ngModel)]="inputValue"
                        #quantity="ngModel"
                        [max]="amount"
                        required
                        [min]="1">
                </div>
                <button type="submit" class="button-cart"
                    [disabled]="cartForm.invalid">Add to cart</button>
            </form>
            <validation-modal
                [isVisible]="isModalVisible"
                [errorType]="errorType"
                [amount]="amount"
                (closeModal)="isModalVisible = false"></validation-modal>

        </aside>

    </div>
    <div class="orders-list" *ngIf="hasSubmittedOrders">
        <h4>Your Orders:</h4>
        <hr>
        <ul>
            <li *ngFor="let order of orders">
                {{ order.name }} - {{ order.amount }} &#64; ${{ order.price
                }}
                each, Total: ${{ (order.total.toFixed(2)) }}
            </li>
        </ul>
        <h4>Total Price: ${{ finalTotal }}</h4>
    </div>

</main>